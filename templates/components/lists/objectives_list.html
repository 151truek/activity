<div id="objective">
  <div class="sub-navigation">
    <div class="sub-navigation-header">
      <h4 class="page-title">
        Objective List
      </h4>
    </div>
    <div class="sub-navigation-actions">
      <!-- sample action buttons -->
      <div class="sub-nav-item">
        <div class="btn-group" role="group" aria-label="">
          <a role="button" class="btn btn-sm btn-default disabled">
            <i class="fa fa-list"></i> List
          </a>
          <a
            role="button"
            class="btn btn-sm btn-default"
            href="{% url 'objectives-tree' %}"
          >
            <i class="fa fa-sitemap"></i> Tree
          </a>
        </div>
      </div>

      <div class="sub-nav-item">
        <div class="btn-group" role="group" aria-label="">
          <button
            class="btn btn-sm btn-primary"
            data-toggle="modal"
            data-target="#addObjectiveModal"
          >
            <i class="fa fa-plus"></i> Objective
          </button>
        </div>
      </div>
    </div>
  </div>
  <!-- Objective table -->
  <table class="table" id="objectivesTable" v-if="objectives.length">
    <thead>
      <tr>
        <th>Name</th>
        <th>Parent</th>
        <th>Create Date</th>
        <th class="text-right"></th>
      </tr>
    </thead>
    <tbody>
      <tr v-cloak v-for="objective in objectives" v-if="objective.name">
        <td>
          <a
            @click="toggleModal(objective)"
            data-toggle="tooltip"
            title="{{objective.name}}"
          >
            [[ objective.name | truncatechars:50 ]]
          </a>
        </td>
        <td>[[ objective.parent ]]</td>
        <td>[[ objective.create_date | date ]]</td>
        <td class="text-right">
          <!-- Action buttons -->
          <div class="btn-group">
            <button type="button" class="btn btn-sm btn-default disabled">
              More
            </button>
            <button
              type="button"
              class="btn btn-default btn-sm dropdown-toggle"
              data-toggle="dropdown"
              aria-haspopup="true"
              aria-expanded="false"
            >
              <span class="caret"></span>
              <span class="sr-only">Toggle Dropdown</span>
            </button>
            <ul class="dropdown-menu">
              <li class="text-danger">
                <a class="force-link" @click="toggleModal(objective)">Edit</a>
              </li>
              <li>
                <a
                  class="text-danger force-link"
                  @click="toggleDeleteModal(objective)"
                >
                  Delete
                </a>
              </li>
            </ul>
          </div>
        </td>
        {% include 'components/objective_delete_confirm_modal.html'%}
      </tr>
    </tbody>
  </table>
</div>

{% include 'ui-components/vue_modal.html'%} {% block extra_js_in_body %}
<script src="{{ STATIC_URL }}vue.js/indicators/objective.js"></script>
{% endblock extra_js_in_body %}
