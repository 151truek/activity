<!---
DOUGHNUT CHART template for custom charts
required:
* dataset[] with label and iterable data[] for each chart item (up to 6)
  for side by side or stacked
* elementID for placement on dashboard
* legendID for placement of legend for graph
* tooltip to append to tool tip i.e. (USD, KM, LBS, etc.)
-->

<script id="doughnutchart">
//render project_status in a doughnut chart
var options = {
    // single tooltip
    tooltipTemplate: "<%=label + ' {{ tooltip }}' %>",
};
var data = [
    {
    value: {{ get_approved_count }},
    color:"#637b85",
    label: "Approved - {{ get_approved_count }}"
    },
    {
    value : {{ get_awaiting_approval_count }},
    color : "#2c9c69",
    label: "Waiting - {{ get_awaiting_approval_count }}"
    },
    {
    value : {{ get_rejected_count }},
    color : "#dbba34",
    label: "Rejected - {{ get_rejected_count }}"
    },
    {
    value : {{ nostatus_count }},
    color : "#00bfff",
    label: "New - {{ nostatus_count }}"
    },
    {
    value : {{ get_in_progress_count }},
    color : "#c62f29",
    label: "In Progress - {{ get_in_progress_count }}"
    }
];
var ctx = document.getElementById("status").getContext("2d");
var statusChart = new Chart(ctx).Doughnut(data,options);
document.getElementById('status-legend').innerHTML = statusChart.generateLegend();
</script>